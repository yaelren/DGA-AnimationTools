<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- ========== EDIT THIS: Your Tool Name ========== -->
    <title>3D Type Shaper - Chatooly</title>

    <!-- ========== Three.js Import Map ========== -->
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
        }
    }
    </script>

    <!-- ========== DO NOT EDIT: Required CDN Styles ========== -->
    <link id="chatooly-unified-styles" rel="stylesheet" href="https://yaelren.github.io/chatooly-cdn/css/unified.min.css">

    <style>
        /* Collapsible section cards */
        .chatooly-section-header {
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chatooly-section-header::after {
            content: '';
            width: 8px;
            height: 8px;
            border-right: 2px solid currentColor;
            border-bottom: 2px solid currentColor;
            transform: rotate(-135deg);
            transition: transform 0.2s ease;
            opacity: 0.6;
        }

        .chatooly-section-header[aria-expanded="false"]::after {
            transform: rotate(45deg);
        }

        .chatooly-section-content {
            transition: max-height 0.3s ease, opacity 0.2s ease, padding 0.2s ease;
            overflow: hidden;
        }

        .chatooly-section-card.collapsed .chatooly-section-content {
            max-height: 0 !important;
            opacity: 0;
            padding-top: 0;
            padding-bottom: 0;
        }
    </style>
<style id="chatooly-canvas-area-styles">
                /* Canvas area container - works with both template and legacy */
                #chatooly-container, #chatooly-canvas-area {
                    box-sizing: border-box;
                    transition: all 0.3s ease;
                }

                /* Template structure - ensure proper centering */
                .chatooly-preview-panel {
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                }

                #chatooly-container {
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    width: 100%;
                    height: 100%;
                }

                /* Canvas inside the area - universal rules */
                #chatooly-container canvas, #chatooly-canvas-area canvas {
                    display: block;
                    margin: 0; /* Remove auto margin - let flexbox handle centering */
                    max-width: 100%;
                    max-height: 100%;
                    object-fit: contain;
                    image-rendering: crisp-edges;
                    image-rendering: -moz-crisp-edges;
                    image-rendering: -webkit-crisp-edges;
                    image-rendering: pixelated;
                    /* Ensure canvas is centered by flexbox parent */
                    flex-shrink: 0;
                }

                /* When zoomed, allow canvas to exceed container bounds */
                #chatooly-container.zoomed, #chatooly-canvas-area.zoomed {
                    overflow: auto;
                    cursor: grab;
                }

                #chatooly-container.zoomed.dragging, #chatooly-canvas-area.zoomed.dragging {
                    cursor: grabbing;
                    user-select: none;
                }

                /* Custom scrollbar for canvas area */
                #chatooly-container::-webkit-scrollbar, #chatooly-canvas-area::-webkit-scrollbar {
                    width: 12px;
                    height: 12px;
                }

                #chatooly-container::-webkit-scrollbar-track, #chatooly-canvas-area::-webkit-scrollbar-track {
                    background: #f1f1f1;
                    border-radius: 6px;
                }

                #chatooly-container::-webkit-scrollbar-thumb, #chatooly-canvas-area::-webkit-scrollbar-thumb {
                    background: #888;
                    border-radius: 6px;
                }

                #chatooly-container::-webkit-scrollbar-thumb:hover, #chatooly-canvas-area::-webkit-scrollbar-thumb:hover {
                    background: #555;
                }

                /* Zoom indicator inside canvas area */
                #chatooly-container .zoom-indicator, #chatooly-canvas-area .zoom-indicator {
                    position: absolute;
                    top: 10px;
                    right: 10px;
                    background: rgba(0, 0, 0, 0.7);
                    color: white;
                    padding: 5px 10px;
                    border-radius: 4px;
                    font-family: monospace;
                    font-size: 12px;
                    pointer-events: none;
                    z-index: 10;
                }

                /* Canvas fit modes */
                #chatooly-container[data-fit="contain"] canvas, #chatooly-canvas-area[data-fit="contain"] canvas {
                    width: 100%;
                    height: 100%;
                    object-fit: contain;
                }

                #chatooly-container[data-fit="cover"] canvas, #chatooly-canvas-area[data-fit="cover"] canvas {
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                }

                #chatooly-container[data-fit="actual"] canvas, #chatooly-canvas-area[data-fit="actual"] canvas {
                    width: auto;
                    height: auto;
                    max-width: none;
                    max-height: none;
                }
            </style><style id="chatooly-new-button-styles">
                /* Noto Emoji font for icons only */
                @import url('https://fonts.googleapis.com/css2?family=Noto+Emoji&display=swap');

                /* Hide old button styles completely */
                #chatooly-export-btn .chatooly-btn-main {
                    display: none !important;
                }

                /* Icon styling with Noto Emoji font and B&W filter */
                #chatooly-export-btn .chatooly-minimized-icon,
                #chatooly-export-btn .chatooly-nav-icon,
                #chatooly-export-btn .chatooly-emoji,
                .chatooly-export-indicator {
                    font-family: 'Noto Emoji', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                    filter: grayscale(100%) contrast(1.2);
                }

                /* Minimized Floating Button - Override any cached styles */
                #chatooly-export-btn .chatooly-minimized-btn {
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    gap: var(--chatooly-spacing-2, 8px) !important;
                    background: var(--chatooly-color-surface, #ffffff) !important;
                    border: var(--chatooly-border-width-thin, 1px) solid var(--chatooly-color-border, #e5e7eb) !important;
                    border-radius: var(--chatooly-border-radius-lg, 12px) !important;
                    box-shadow: var(--chatooly-shadow-lg, 0 10px 25px rgba(0, 0, 0, 0.15)) !important;
                    padding: var(--chatooly-spacing-3, 12px) var(--chatooly-spacing-4, 16px) !important;
                    cursor: pointer !important;
                    transition: all var(--chatooly-transition-normal, 0.2s ease) !important;
                    min-width: 120px !important;
                    font-family: var(--chatooly-font-family, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif) !important;
                    /* Hide any old button styles */
                    flex-direction: row !important;
                    height: auto !important;
                    width: auto !important;
                }

                #chatooly-export-btn .chatooly-minimized-btn:hover {
                    background: var(--chatooly-color-surface-hover, #f9fafb);
                    transform: translateY(-2px);
                    box-shadow: var(--chatooly-shadow-xl, 0 20px 40px rgba(0, 0, 0, 0.2));
                }

                #chatooly-export-btn .chatooly-minimized-icon {
                    font-size: var(--chatooly-font-size-md, 14px);
                }

                #chatooly-export-btn .chatooly-minimized-label {
                    font-size: var(--chatooly-font-size-sm, 12px);
                    color: var(--chatooly-color-text-muted, #6b7280);
                    font-weight: var(--chatooly-font-weight-semibold, 600);
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }

                /* Main Export Panel */
                #chatooly-export-btn .chatooly-export-panel {
                    display: flex;
                    flex-direction: row;
                    background: var(--chatooly-color-surface);
                    border: var(--chatooly-border-width-thin) solid var(--chatooly-color-border);
                    border-radius: var(--chatooly-border-radius-lg);
                    box-shadow: var(--chatooly-shadow-lg);
                    overflow: hidden;
                    min-width: 500px;
                    max-width: 600px;
                    font-family: var(--chatooly-font-family);
                    position: absolute;
                    bottom: 100%;
                    right: 0;
                    margin-bottom: var(--chatooly-spacing-2);
                    transform: translateY(20px);
                    opacity: 0;
                    transition: all var(--chatooly-transition-normal);
                }

                #chatooly-export-btn .chatooly-export-panel.show {
                    transform: translateY(0);
                    opacity: 1;
                }

                /* Sidebar Navigation */
                #chatooly-export-btn .chatooly-sidebar {
                    display: flex;
                    flex-direction: column;
                    background: var(--chatooly-color-surface);
                    padding: var(--chatooly-spacing-4) 0;
                    border-right: var(--chatooly-border-width-thin) solid var(--chatooly-color-border);
                    width: 120px;
                    flex-shrink: 0;
                }

                #chatooly-export-btn .chatooly-nav-item {
                    display: flex;
                    align-items: center;
                    padding: var(--chatooly-spacing-3) var(--chatooly-spacing-5);
                    color: var(--chatooly-color-text-muted);
                    cursor: pointer;
                    transition: all var(--chatooly-transition-normal);
                    border-left: 3px solid transparent;
                }

                #chatooly-export-btn .chatooly-nav-item:hover {
                    color: var(--chatooly-color-text);
                    background: var(--chatooly-color-surface-hover);
                }

                #chatooly-export-btn .chatooly-nav-item.active {
                    color: var(--chatooly-color-text);
                    background: var(--chatooly-color-surface-active);
                    border-left-color: var(--chatooly-color-primary);
                }

                #chatooly-export-btn .chatooly-nav-icon {
                    margin-right: var(--chatooly-spacing-3);
                    font-size: var(--chatooly-font-size-md);
                }

                #chatooly-export-btn .chatooly-nav-label {
                    font-size: var(--chatooly-font-size-sm);
                    font-weight: var(--chatooly-font-weight-medium);
                }

                /* Settings Panel */
                #chatooly-export-btn .chatooly-settings-panel {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    background: var(--chatooly-color-surface);
                }

                #chatooly-export-btn .chatooly-settings-content {
                    flex: 1;
                    padding: var(--chatooly-spacing-6);
                }

                #chatooly-export-btn .chatooly-settings-section {
                    margin-bottom: var(--chatooly-spacing-6);
                }

                #chatooly-export-btn .chatooly-settings-section:last-child {
                    margin-bottom: 0;
                }

                #chatooly-export-btn .chatooly-section-title {
                    font-size: var(--chatooly-font-size-sm);
                    font-weight: var(--chatooly-font-weight-semibold);
                    color: var(--chatooly-color-text);
                    margin: 0 0 var(--chatooly-spacing-4) 0;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }

                /* Size Inputs */
                #chatooly-export-btn .chatooly-size-inputs {
                    display: flex;
                    gap: var(--chatooly-spacing-4);
                    align-items: center;
                }

                #chatooly-export-btn .chatooly-input-group {
                    display: flex;
                    align-items: center;
                    gap: var(--chatooly-spacing-2);
                }

                #chatooly-export-btn .chatooly-input-group label {
                    font-size: var(--chatooly-font-size-sm);
                    color: var(--chatooly-color-text);
                    font-weight: var(--chatooly-font-weight-medium);
                    min-width: 20px;
                }

                #chatooly-export-btn .chatooly-size-input {
                    width: 80px;
                    padding: var(--chatooly-spacing-2) var(--chatooly-spacing-3);
                    background: var(--chatooly-color-surface-hover);
                    border: var(--chatooly-border-width-thin) solid var(--chatooly-color-border);
                    border-radius: var(--chatooly-border-radius);
                    color: var(--chatooly-color-text);
                    font-size: var(--chatooly-font-size-sm);
                    text-align: center;
                    transition: all var(--chatooly-transition-normal);
                }

                #chatooly-export-btn .chatooly-size-input:focus {
                    outline: none;
                    border-color: var(--chatooly-color-primary);
                    box-shadow: var(--chatooly-shadow-focus);
                }

                #chatooly-export-btn .chatooly-unit {
                    font-size: var(--chatooly-font-size-xs);
                    color: var(--chatooly-color-text-muted);
                }

                /* Scale Buttons */
                #chatooly-export-btn .chatooly-scale-buttons {
                    display: flex;
                    gap: var(--chatooly-spacing-2);
                }

                #chatooly-export-btn .chatooly-scale-btn {
                    padding: var(--chatooly-spacing-2) var(--chatooly-spacing-4);
                    background: transparent;
                    border: var(--chatooly-border-width-thin) solid var(--chatooly-color-border);
                    border-radius: var(--chatooly-border-radius);
                    color: var(--chatooly-color-text-muted);
                    font-size: var(--chatooly-font-size-sm);
                    font-weight: var(--chatooly-font-weight-medium);
                    cursor: pointer;
                    transition: all var(--chatooly-transition-normal);
                }

                #chatooly-export-btn .chatooly-scale-btn:hover {
                    color: var(--chatooly-color-text);
                    background: var(--chatooly-color-surface-hover);
                }

                #chatooly-export-btn .chatooly-scale-btn.active {
                    background: var(--chatooly-color-surface-active);
                    color: var(--chatooly-color-text);
                    border-color: var(--chatooly-color-primary);
                }

                /* Format Buttons */
                #chatooly-export-btn .chatooly-format-buttons {
                    display: flex;
                    gap: var(--chatooly-spacing-2);
                }

                #chatooly-export-btn .chatooly-format-btn {
                    padding: var(--chatooly-spacing-2) var(--chatooly-spacing-4);
                    background: transparent;
                    border: var(--chatooly-border-width-thin) solid var(--chatooly-color-border);
                    border-radius: var(--chatooly-border-radius);
                    color: var(--chatooly-color-text-muted);
                    font-size: var(--chatooly-font-size-sm);
                    font-weight: var(--chatooly-font-weight-medium);
                    cursor: pointer;
                    transition: all var(--chatooly-transition-normal);
                }

                #chatooly-export-btn .chatooly-format-btn:hover {
                    color: var(--chatooly-color-text);
                    background: var(--chatooly-color-surface-hover);
                }

                #chatooly-export-btn .chatooly-format-btn.active {
                    background: var(--chatooly-color-surface-active);
                    color: var(--chatooly-color-text);
                    border-color: var(--chatooly-color-primary);
                }

                /* Tab Content */
                #chatooly-export-btn .chatooly-tab-content {
                    display: block;
                }

                #chatooly-export-btn .chatooly-tab-content.hidden {
                    display: none;
                }

                /* Ratio Buttons */
                #chatooly-export-btn .chatooly-ratio-buttons {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: var(--chatooly-spacing-2);
                }

                #chatooly-export-btn .chatooly-ratio-btn {
                    padding: var(--chatooly-spacing-2) var(--chatooly-spacing-3);
                    background: transparent;
                    border: var(--chatooly-border-width-thin) solid var(--chatooly-color-border);
                    border-radius: var(--chatooly-border-radius);
                    color: var(--chatooly-color-text-muted);
                    font-size: var(--chatooly-font-size-xs);
                    font-weight: var(--chatooly-font-weight-medium);
                    cursor: pointer;
                    transition: all var(--chatooly-transition-normal);
                }

                #chatooly-export-btn .chatooly-ratio-btn:hover {
                    color: var(--chatooly-color-text);
                    background: var(--chatooly-color-surface-hover);
                }

                #chatooly-export-btn .chatooly-ratio-btn.active {
                    background: var(--chatooly-color-surface-active);
                    color: var(--chatooly-color-text);
                    border-color: var(--chatooly-color-primary);
                }

                /* Export Type Buttons */
                #chatooly-export-btn .chatooly-export-type-buttons {
                    display: flex;
                    gap: var(--chatooly-spacing-2);
                }

                #chatooly-export-btn .chatooly-export-type-btn {
                    flex: 1;
                    padding: var(--chatooly-spacing-2) var(--chatooly-spacing-4);
                    background: transparent;
                    border: var(--chatooly-border-width-thin) solid var(--chatooly-color-border);
                    border-radius: var(--chatooly-border-radius);
                    color: var(--chatooly-color-text-muted);
                    font-size: var(--chatooly-font-size-sm);
                    font-weight: var(--chatooly-font-weight-medium);
                    cursor: pointer;
                    transition: all var(--chatooly-transition-normal);
                }

                #chatooly-export-btn .chatooly-export-type-btn:hover {
                    color: var(--chatooly-color-text);
                    background: var(--chatooly-color-surface-hover);
                }

                #chatooly-export-btn .chatooly-export-type-btn.active {
                    background: var(--chatooly-color-surface-active);
                    color: var(--chatooly-color-text);
                    border-color: var(--chatooly-color-primary);
                }

                /* Form Elements */
                #chatooly-export-btn .chatooly-form-group {
                    margin-bottom: var(--chatooly-spacing-4);
                }

                #chatooly-export-btn .chatooly-form-group label {
                    display: block;
                    margin-bottom: var(--chatooly-spacing-2);
                    font-size: var(--chatooly-font-size-sm);
                    font-weight: var(--chatooly-font-weight-medium);
                    color: var(--chatooly-color-text);
                }

                #chatooly-export-btn .chatooly-text-input {
                    width: 100%;
                    padding: var(--chatooly-spacing-2) var(--chatooly-spacing-3);
                    background: var(--chatooly-color-surface-hover);
                    border: var(--chatooly-border-width-thin) solid var(--chatooly-color-border);
                    border-radius: var(--chatooly-border-radius);
                    color: var(--chatooly-color-text);
                    font-size: var(--chatooly-font-size-sm);
                    transition: all var(--chatooly-transition-normal);
                }

                #chatooly-export-btn .chatooly-text-input:focus {
                    outline: none;
                    border-color: var(--chatooly-color-primary);
                    box-shadow: var(--chatooly-shadow-focus);
                }

                #chatooly-export-btn .chatooly-textarea {
                    width: 100%;
                    padding: var(--chatooly-spacing-2) var(--chatooly-spacing-3);
                    background: var(--chatooly-color-surface-hover);
                    border: var(--chatooly-border-width-thin) solid var(--chatooly-color-border);
                    border-radius: var(--chatooly-border-radius);
                    color: var(--chatooly-color-text);
                    font-size: var(--chatooly-font-size-sm);
                    resize: vertical;
                    min-height: 80px;
                    transition: all var(--chatooly-transition-normal);
                }

                #chatooly-export-btn .chatooly-textarea:focus {
                    outline: none;
                    border-color: var(--chatooly-color-primary);
                    box-shadow: var(--chatooly-shadow-focus);
                }

                /* Readonly inputs */
                #chatooly-export-btn .chatooly-readonly {
                    background: var(--chatooly-color-surface);
                    border-color: transparent;
                    cursor: default;
                    color: var(--chatooly-color-text-muted);
                    opacity: 0.7;
                    font-style: italic;
                }

                /* Info Message */
                #chatooly-export-btn .chatooly-info-message {
                    background: var(--chatooly-color-surface-hover);
                    border-left: 3px solid var(--chatooly-color-primary);
                    padding: var(--chatooly-spacing-3);
                    border-radius: var(--chatooly-border-radius);
                    font-size: var(--chatooly-font-size-xs);
                    color: var(--chatooly-color-text-muted);
                    margin-top: var(--chatooly-spacing-3);
                }

                #chatooly-export-btn .chatooly-info-message code {
                    background: var(--chatooly-color-surface-active);
                    padding: 2px 6px;
                    border-radius: 3px;
                    font-family: monospace;
                    font-size: var(--chatooly-font-size-xs);
                    color: var(--chatooly-color-text);
                }

                /* Description Text */
                #chatooly-export-btn .chatooly-description {
                    font-size: var(--chatooly-font-size-sm);
                    color: var(--chatooly-color-text-muted);
                    line-height: var(--chatooly-line-height-normal);
                    margin-bottom: var(--chatooly-spacing-4);
                }

                /* Info List */
                #chatooly-export-btn .chatooly-info-list {
                    display: flex;
                    flex-direction: column;
                    gap: var(--chatooly-spacing-2);
                }

                #chatooly-export-btn .chatooly-info-item {
                    font-size: var(--chatooly-font-size-sm);
                    color: var(--chatooly-color-text);
                    padding: var(--chatooly-spacing-2);
                    background: var(--chatooly-color-surface-hover);
                    border-radius: var(--chatooly-border-radius);
                }

                /* Export Options */
                #chatooly-export-btn .chatooly-export-options {
                    margin-top: var(--chatooly-spacing-4);
                }

                /* Compact Form Layout */
                #chatooly-export-btn .chatooly-compact-form {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: var(--chatooly-spacing-3);
                    align-items: end;
                }

                #chatooly-export-btn .chatooly-compact-field {
                    display: flex;
                    flex-direction: column;
                    gap: var(--chatooly-spacing-2);
                }

                #chatooly-export-btn .chatooly-compact-field-wide {
                    grid-column: 1 / -1;
                }

                #chatooly-export-btn .chatooly-compact-field label {
                    font-size: var(--chatooly-font-size-xs);
                    font-weight: var(--chatooly-font-weight-medium);
                    color: var(--chatooly-color-text-muted);
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }

                #chatooly-export-btn .chatooly-compact-input {
                    width: 100%;
                    padding: var(--chatooly-spacing-2) var(--chatooly-spacing-3);
                    background: var(--chatooly-color-surface-hover);
                    border: var(--chatooly-border-width-thin) solid var(--chatooly-color-border);
                    border-radius: var(--chatooly-border-radius);
                    color: var(--chatooly-color-text);
                    font-size: var(--chatooly-font-size-sm);
                    transition: all var(--chatooly-transition-normal);
                }

                #chatooly-export-btn .chatooly-compact-input:focus {
                    outline: none;
                    border-color: var(--chatooly-color-primary);
                    box-shadow: var(--chatooly-shadow-focus);
                }

                /* Info Box */
                #chatooly-export-btn .chatooly-info-box {
                    background: var(--chatooly-color-primary-light);
                    border: var(--chatooly-border-width-thin) solid var(--chatooly-color-primary);
                    border-radius: var(--chatooly-border-radius-md);
                    padding: var(--chatooly-spacing-3);
                    margin-top: var(--chatooly-spacing-2);
                }

                /* Buttons */
                #chatooly-export-btn .chatooly-btn-primary {
                    width: 100%;
                    padding: var(--chatooly-spacing-3) var(--chatooly-spacing-6);
                    background: var(--chatooly-color-primary);
                    border: none;
                    border-radius: var(--chatooly-border-radius-lg);
                    color: var(--chatooly-color-text-inverse);
                    font-size: var(--chatooly-font-size-sm);
                    font-weight: var(--chatooly-font-weight-semibold);
                    cursor: pointer;
                    transition: all var(--chatooly-transition-normal);
                }

                #chatooly-export-btn .chatooly-btn-primary:hover {
                    background: var(--chatooly-color-primary-hover);
                    transform: translateY(-1px);
                }

                #chatooly-export-btn .chatooly-btn-secondary {
                    flex: 1;
                    padding: var(--chatooly-spacing-3) var(--chatooly-spacing-6);
                    background: var(--chatooly-color-surface-active);
                    border: var(--chatooly-border-width-thin) solid var(--chatooly-color-border);
                    border-radius: var(--chatooly-border-radius-lg);
                    color: var(--chatooly-color-text);
                    font-size: var(--chatooly-font-size-sm);
                    font-weight: var(--chatooly-font-weight-semibold);
                    cursor: pointer;
                    transition: all var(--chatooly-transition-normal);
                }

                #chatooly-export-btn .chatooly-btn-secondary:hover {
                    background: var(--chatooly-color-surface-hover);
                    border-color: var(--chatooly-color-border-dark);
                }

                /* Mobile Responsive */
                @media (max-width: 768px) {
                    #chatooly-export-btn .chatooly-export-panel {
                        min-width: 320px;
                        max-width: 90vw;
                    }

                    #chatooly-export-btn .chatooly-sidebar {
                        flex-direction: row;
                        overflow-x: auto;
                        padding: var(--chatooly-spacing-3) 0;
                    }

                    #chatooly-export-btn .chatooly-nav-item {
                        flex-shrink: 0;
                        padding: var(--chatooly-spacing-2) var(--chatooly-spacing-4);
                        border-left: none;
                        border-bottom: 3px solid transparent;
                    }

                    #chatooly-export-btn .chatooly-nav-item.active {
                        border-left: none;
                        border-bottom-color: var(--chatooly-color-primary);
                    }

                    #chatooly-export-btn .chatooly-nav-label {
                        display: none;
                    }

                    #chatooly-export-btn .chatooly-settings-content {
                        padding: var(--chatooly-spacing-4);
                    }

                    #chatooly-export-btn .chatooly-size-inputs {
                        flex-direction: column;
                        gap: var(--chatooly-spacing-3);
                    }

                    #chatooly-export-btn .chatooly-scale-buttons,
                    #chatooly-export-btn .chatooly-format-buttons {
                        flex-wrap: wrap;
                    }
                }
            </style>

    <!-- ========== Three.js Module Initialization ========== -->
    <script type="module">
        import * as THREE from 'three';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

        // Expose to global scope for main.js
        window.THREE = THREE;
        window.GLTFLoader = GLTFLoader;

        // Signal that Three.js is ready
        window.dispatchEvent(new Event('three-ready'));
    </script>
</head>
<body class="chatooly-styles-loaded">
    <!-- ========== EDIT THIS: Update header title to match your tool ========== -->
    <header class="chatooly-header">
        <div class="chatooly-header-title">3D Type Shaper</div>
        <div class="chatooly-header-credit">MADE WITH CHATOOLY</div>
    </header>

    <div class="chatooly-app-container">
        <!-- Left Panel: Tool Controls -->
        <div class="chatooly-controls-panel">
            <!-- ========== EDIT THIS: Tool Description ========== -->
            <div class="chatooly-controls-header">
                <p>Convert text into 3D letters made of spheres, cubes, or custom GLB models</p>
            </div>

            <div class="chatooly-controls-content">
                <!-- ========== SOURCE MODE ========== -->
                <div class="chatooly-section-card" data-section="source">
                    <span class="chatooly-section-header" role="button" tabindex="0">SOURCE</span>
                    <div class="chatooly-section-content">
                        <div class="chatooly-input-group">
                            <label class="chatooly-input-label">Source Mode</label>
                            <select class="chatooly-select" id="source-mode">
                                <option value="text" selected>Text</option>
                                <option value="shape">Shape</option>
                            </select>
                        </div>

                        <!-- Shape Mode Controls -->
                        <div id="shape-source-controls" style="display: none;">
                            <div class="chatooly-input-group">
                                <label class="chatooly-input-label">Shape Type</label>
                                <select class="chatooly-select" id="spawn-shape-type">
                                    <option value="circle" selected>Circle</option>
                                    <option value="square">Square</option>
                                    <option value="triangle">Triangle</option>
                                    <option value="star">Star</option>
                                    <option value="heart">Heart</option>
                                    <option value="hexagon">Hexagon</option>
                                </select>
                            </div>

                            <div class="chatooly-slider-group">
                                <div class="chatooly-slider-label">
                                    <span>Shape Size</span>
                                    <span class="chatooly-slider-value" id="spawn-shape-size-value">200</span>
                                </div>
                                <input type="range" class="chatooly-slider" id="spawn-shape-size" min="50" max="2000" value="200">
                            </div>

                            <div class="chatooly-input-group">
                                <label class="chatooly-input-label">Fill Mode</label>
                                <div class="chatooly-preset-grid" style="grid-template-columns: 1fr 1fr;">
                                    <button class="chatooly-btn active" id="fill-mode-outline" data-mode="outline">Outline</button>
                                    <button class="chatooly-btn" id="fill-mode-fill" data-mode="fill">Fill</button>
                                </div>
                            </div>

                            <!-- Position X and Y side by side -->
                            <div style="display: flex; gap: 12px; margin-top: 12px;">
                                <div class="chatooly-slider-group" style="flex: 1;">
                                    <div class="chatooly-slider-label">
                                        <span>Position X</span>
                                        <span class="chatooly-slider-value" id="shape-offset-x-value">0</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="shape-offset-x" min="-50" max="50" step="1" value="0">
                                </div>

                                <div class="chatooly-slider-group" style="flex: 1;">
                                    <div class="chatooly-slider-label">
                                        <span>Position Y</span>
                                        <span class="chatooly-slider-value" id="shape-offset-y-value">0</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="shape-offset-y" min="-50" max="50" step="1" value="0">
                                </div>
                            </div>
                        </div>

                        <!-- Text Mode Controls (shown by default) -->
                        <div id="text-source-controls">
                            <div class="chatooly-input-group">
                                <label class="chatooly-input-label">Text</label>
                                <textarea class="chatooly-textarea" id="text-input" rows="2" placeholder="Enter your text here (press Enter for new line)">3D Type Shaper</textarea>
                            </div>

                            <div class="chatooly-input-group">
                                <label class="chatooly-input-label">Font</label>
                                <select class="chatooly-select" id="font-selector">
                                    <option value="Arial" selected>Arial</option>
                                    <option value="Georgia">Georgia</option>
                                    <option value="Times New Roman">Times New Roman</option>
                                    <option value="Courier New">Courier New</option>
                                    <option value="Verdana">Verdana</option>
                                    <option value="Impact">Impact</option>
                                    <option value="upload-custom">Upload Custom Font...</option>
                                </select>
                                <input type="file" id="custom-font-input" accept=".ttf,.otf,.woff,.woff2" style="display: none;">
                            </div>

                            <div class="chatooly-slider-group">
                                <div class="chatooly-slider-label">
                                    <span>Font Size</span>
                                    <span class="chatooly-slider-value" id="font-size-value">200</span>
                                </div>
                                <input type="range" class="chatooly-slider" id="font-size" min="24" max="2000" value="200">
                            </div>

                            <!-- Leading + Kerning side by side -->
                            <div style="display: flex; gap: 12px;">
                                <div class="chatooly-slider-group" style="flex: 1;">
                                    <div class="chatooly-slider-label">
                                        <span>Leading</span>
                                        <span class="chatooly-slider-value" id="leading-value">1.2</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="leading" min="0.5" max="10" step="0.1" value="1.2">
                                </div>
                                <div class="chatooly-slider-group" style="flex: 1;">
                                    <div class="chatooly-slider-label">
                                        <span>Kerning</span>
                                        <span class="chatooly-slider-value" id="letter-spacing-value">0</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="letter-spacing" min="-50" max="200" step="1" value="0">
                                </div>
                            </div>

                            <div class="chatooly-input-group">
                                <label class="chatooly-input-label">Alignment</label>
                                <div style="display: flex; gap: 4px;">
                                    <button class="chatooly-btn text-align-btn" data-align="left" style="flex: 1; padding: 6px;" title="Left">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <line x1="3" y1="6" x2="21" y2="6"></line>
                                            <line x1="3" y1="12" x2="15" y2="12"></line>
                                            <line x1="3" y1="18" x2="18" y2="18"></line>
                                        </svg>
                                    </button>
                                    <button class="chatooly-btn text-align-btn active" data-align="center" style="flex: 1; padding: 6px;" title="Center">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <line x1="3" y1="6" x2="21" y2="6"></line>
                                            <line x1="6" y1="12" x2="18" y2="12"></line>
                                            <line x1="4" y1="18" x2="20" y2="18"></line>
                                        </svg>
                                    </button>
                                    <button class="chatooly-btn text-align-btn" data-align="right" style="flex: 1; padding: 6px;" title="Right">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <line x1="3" y1="6" x2="21" y2="6"></line>
                                            <line x1="9" y1="12" x2="21" y2="12"></line>
                                            <line x1="6" y1="18" x2="21" y2="18"></line>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Position X and Y side by side -->
                            <div style="display: flex; gap: 12px;">
                                <div class="chatooly-slider-group" style="flex: 1;">
                                    <div class="chatooly-slider-label">
                                        <span>Position X</span>
                                        <span class="chatooly-slider-value" id="text-offset-x-value">0</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="text-offset-x" min="-50" max="50" step="1" value="0">
                                </div>

                                <div class="chatooly-slider-group" style="flex: 1;">
                                    <div class="chatooly-slider-label">
                                        <span>Position Y</span>
                                        <span class="chatooly-slider-value" id="text-offset-y-value">0</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="text-offset-y" min="-50" max="50" step="1" value="0">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ========== 3D OBJECTS ========== -->
                <div class="chatooly-section-card" data-section="shapes">
                    <span class="chatooly-section-header" role="button" tabindex="0">3D OBJECTS</span>
                    <div class="chatooly-section-content">
                        <!-- Object Type first -->
                        <div class="chatooly-input-group">
                            <label class="chatooly-input-label">Object Type</label>
                            <select class="chatooly-select" id="shape-type">
                                <option value="sphere">Sphere</option>
                                <option value="cube">Cube</option>
                                <option value="glb">Custom GLB</option>
                            </select>
                        </div>

                        <!-- Size & Spacing -->
                        <div class="chatooly-slider-group">
                            <div class="chatooly-slider-label">
                                <span>Object Size</span>
                                <span class="chatooly-slider-value" id="shape-size-value">5</span>
                            </div>
                            <input type="range" class="chatooly-slider" id="shape-size" min="2" max="500" value="5">
                        </div>

                        <div class="chatooly-slider-group">
                            <div class="chatooly-slider-label">
                                <span>Spacing</span>
                                <span class="chatooly-slider-value" id="spacing-value">1.0</span>
                            </div>
                            <input type="range" class="chatooly-slider" id="spacing" min="0" max="10" step="0.1" value="1">
                        </div>

                        <!-- GLB Upload (only visible when shape-type is 'glb') -->
                        <div id="glb-upload-group" style="display: none;">
                            <div class="chatooly-upload-area" style="height: 100px;">
                                <div class="chatooly-upload-icon">
                                    <svg viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M7.94444 0L11 3V11.4048C10.9998 11.5627 10.9358 11.7141 10.822 11.8257C10.7083 11.9373 10.554 12 10.3932 12H0.606833C0.446342 11.9989 0.292733 11.9359 0.179189 11.8245C0.0656443 11.7131 0.00128006 11.5624 0 11.4048V0.5952C0 0.2664 0.271944 0 0.606833 0H7.94444ZM6.11111 6H7.94444L5.5 3.6L3.05556 6H4.88889V8.4H6.11111V6Z" fill="var(--fill-0, #454545)"/>
                                    </svg>
                                </div>
                                <div class="chatooly-upload-text">Upload GLB Model</div>
                                <input type="file" class="chatooly-upload-input" id="glb-model" accept=".glb,.gltf">
                            </div>
                            <div id="glb-info" style="display: none; margin-top: 8px; padding: 8px; background: var(--chatooly-color-surface, #333); border-radius: 4px;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <span id="glb-name" style="font-size: 12px; color: var(--chatooly-color-text);">model.glb</span>
                                    <button class="chatooly-btn" id="clear-glb" style="padding: 4px 8px; min-width: auto;">X</button>
                                </div>
                            </div>
                        </div>

                        <div class="chatooly-input-group">
                            <label class="chatooly-input-label">Material</label>
                            <select class="chatooly-select" id="material-type">
                                <option value="solid" selected>Solid Color</option>
                                <option value="matcapUpload">Custom MatCap</option>
                                <option value="gradient">Gradient Shader</option>
                            </select>
                        </div>

                        <!-- Solid Color Group -->
                        <div class="chatooly-color-group" id="shape-color-group">
                            <label class="chatooly-color-label">Shape Color</label>
                            <input type="color" class="chatooly-color-input" id="shape-color" value="#4a90d9">
                        </div>

                        <!-- MatCap Upload Group -->
                        <div id="matcap-upload-group" style="display: none;">
                            <div class="chatooly-upload-area" style="height: 100px;">
                                <div class="chatooly-upload-icon">
                                    <svg viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M7.94444 0L11 3V11.4048C10.9998 11.5627 10.9358 11.7141 10.822 11.8257C10.7083 11.9373 10.554 12 10.3932 12H0.606833C0.446342 11.9989 0.292733 11.9359 0.179189 11.8245C0.0656443 11.7131 0.00128006 11.5624 0 11.4048V0.5952C0 0.2664 0.271944 0 0.606833 0H7.94444ZM6.11111 6H7.94444L5.5 3.6L3.05556 6H4.88889V8.4H6.11111V6Z" fill="var(--fill-0, #454545)"/>
                                    </svg>
                                </div>
                                <div class="chatooly-upload-text">Upload MatCap Image</div>
                                <input type="file" class="chatooly-upload-input" id="matcap-upload" accept="image/*">
                            </div>
                            <div id="matcap-preview-container" style="display: none; margin-top: 8px; text-align: center;">
                                <canvas id="matcap-preview" width="80" height="80" style="border-radius: 50%; border: 2px solid var(--chatooly-color-border);"></canvas>
                            </div>
                        </div>

                        <!-- Gradient Shader Group -->
                        <div id="gradient-controls-group" style="display: none;">
                            <div class="chatooly-input-group">
                                <label class="chatooly-input-label">Shader Mode</label>
                                <select class="chatooly-select" id="shader-mode">
                                    <option value="flat" selected>Flat (No Lighting)</option>
                                    <option value="reflective">Reflective</option>
                                    <option value="toon">Toon</option>
                                </select>
                            </div>

                            <div class="chatooly-input-group">
                                <label class="chatooly-input-label">Gradient Type</label>
                                <select class="chatooly-select" id="gradient-type">
                                    <option value="radial" selected>Radial</option>
                                    <option value="linear">Linear</option>
                                </select>
                            </div>

                            <!-- Gradient Stops -->
                            <div class="chatooly-input-group">
                                <label class="chatooly-input-label">Gradient Colors</label>
                                <div id="gradient-stops-container">
                                    <div class="gradient-stop" data-index="0" style="display: flex; gap: 8px; margin-bottom: 8px; align-items: center;">
                                        <input type="color" class="chatooly-color-input gradient-stop-color" value="#ff6b6b" style="width: 40px;">
                                        <input type="range" class="chatooly-slider gradient-stop-position" min="0" max="100" value="0" style="flex: 1;">
                                        <span class="gradient-stop-value" style="width: 30px; font-size: 12px;">0%</span>
                                    </div>
                                    <div class="gradient-stop" data-index="1" style="display: flex; gap: 8px; margin-bottom: 8px; align-items: center;">
                                        <input type="color" class="chatooly-color-input gradient-stop-color" value="#4ecdc4" style="width: 40px;">
                                        <input type="range" class="chatooly-slider gradient-stop-position" min="0" max="100" value="50" style="flex: 1;">
                                        <span class="gradient-stop-value" style="width: 30px; font-size: 12px;">50%</span>
                                    </div>
                                    <div class="gradient-stop" data-index="2" style="display: flex; gap: 8px; margin-bottom: 8px; align-items: center;">
                                        <input type="color" class="chatooly-color-input gradient-stop-color" value="#45b7d1" style="width: 40px;">
                                        <input type="range" class="chatooly-slider gradient-stop-position" min="0" max="100" value="100" style="flex: 1;">
                                        <span class="gradient-stop-value" style="width: 30px; font-size: 12px;">100%</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Gradient Preview -->
                            <div style="margin: 12px 0; text-align: center;">
                                <canvas id="gradient-preview" width="80" height="80" style="border-radius: 50%; border: 2px solid var(--chatooly-color-border);"></canvas>
                            </div>

                            <!-- Light Controls (hidden in flat mode) -->
                            <div id="lighting-controls-section" style="display: none;">
                                <div class="chatooly-slider-group">
                                    <div class="chatooly-slider-label">
                                        <span>Light Position</span>
                                        <span class="chatooly-slider-value" id="light-position-value">0.5</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="light-position" min="0" max="1" step="0.05" value="0.5">
                                </div>

                                <div class="chatooly-slider-group">
                                    <div class="chatooly-slider-label">
                                        <span>Light Intensity</span>
                                        <span class="chatooly-slider-value" id="light-intensity-value">1.0</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="light-intensity" min="0" max="2" step="0.1" value="1">
                                </div>

                                <div class="chatooly-color-group">
                                    <label class="chatooly-color-label">Light Color</label>
                                    <input type="color" class="chatooly-color-input" id="light-color" value="#ffffff">
                                </div>

                                <!-- Rim Light Controls -->
                                <div class="chatooly-toggle-group">
                                    <button class="chatooly-toggle" id="rim-enabled" role="switch" aria-pressed="true" aria-labelledby="toggle-rim">
                                        <span class="chatooly-toggle-slider"></span>
                                    </button>
                                    <span class="chatooly-toggle-label" id="toggle-rim">Rim Light</span>
                                </div>

                                <div id="rim-controls-group">
                                    <div class="chatooly-color-group">
                                        <label class="chatooly-color-label">Rim Color</label>
                                        <input type="color" class="chatooly-color-input" id="rim-color" value="#ffffff">
                                    </div>

                                    <div class="chatooly-slider-group">
                                        <div class="chatooly-slider-label">
                                            <span>Rim Intensity</span>
                                            <span class="chatooly-slider-value" id="rim-intensity-value">0.5</span>
                                        </div>
                                        <input type="range" class="chatooly-slider" id="rim-intensity" min="0" max="2" step="0.1" value="0.5">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Object Facing (only visible for GLB) -->
                        <div id="glb-facing-group" style="display: none;">
                            <div class="chatooly-input-group">
                                <label class="chatooly-input-label">Object Facing</label>
                                <select class="chatooly-select" id="facing-mode">
                                    <option value="billboard" selected>Billboard (Face Camera)</option>
                                    <option value="random">Random Rotation</option>
                                    <option value="fixed">Fixed Angle</option>
                                </select>
                            </div>

                            <div id="fixed-angle-controls" style="display: none;">
                                <div class="chatooly-slider-group">
                                    <div class="chatooly-slider-label">
                                        <span>Angle X</span>
                                        <span class="chatooly-slider-value" id="angle-x-value">0</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="angle-x" min="0" max="360" value="0">
                                </div>

                                <div class="chatooly-slider-group">
                                    <div class="chatooly-slider-label">
                                        <span>Angle Y</span>
                                        <span class="chatooly-slider-value" id="angle-y-value">0</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="angle-y" min="0" max="360" value="0">
                                </div>

                                <div class="chatooly-slider-group">
                                    <div class="chatooly-slider-label">
                                        <span>Angle Z</span>
                                        <span class="chatooly-slider-value" id="angle-z-value">0</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="angle-z" min="0" max="360" value="0">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ========== ANIMATION ========== -->
                <div class="chatooly-section-card" data-section="animation">
                    <span class="chatooly-section-header" role="button" tabindex="0">ANIMATION</span>
                    <div class="chatooly-section-content">
                        <!-- Animation Mode Toggle: Static / Animated -->
                        <div class="chatooly-input-group">
                            <label class="chatooly-input-label">Animation Mode</label>
                            <div class="chatooly-preset-grid" style="grid-template-columns: 1fr 1fr;">
                                <button class="chatooly-btn active" id="animation-mode-static" data-mode="static">Static</button>
                                <button class="chatooly-btn" id="animation-mode-animated" data-mode="animated">Animated</button>
                            </div>
                        </div>

                        <!-- Animated Mode Controls (hidden by default) -->
                        <div id="animated-mode-controls" style="display: none;">
                            <div class="chatooly-input-group">
                                <label class="chatooly-input-label">Animation Type</label>
                                <select class="chatooly-select" id="animation-type">
                                    <option value="rotate" selected>Rotate</option>
                                    <option value="tumble">Tumble</option>
                                    <option value="lookAtMouse">Look at Mouse</option>
                                </select>
                            </div>

                            <div id="rotate-speed-group">
                                <div class="chatooly-slider-group">
                                    <div class="chatooly-slider-label">
                                        <span>Rotate Speed</span>
                                        <span class="chatooly-slider-value" id="rotate-speed-value">1.0</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="rotate-speed" min="0.1" max="5" step="0.1" value="1">
                                </div>

                                <label class="chatooly-input-label" style="margin-top: 8px;">Rotation Direction</label>
                                <div style="display: flex; gap: 8px;">
                                    <div class="chatooly-slider-group" style="flex: 1;">
                                        <div class="chatooly-slider-label">
                                            <span>X</span>
                                            <span class="chatooly-slider-value" id="rotation-axis-x-value">0</span>
                                        </div>
                                        <input type="range" class="chatooly-slider" id="rotation-axis-x" min="-1" max="1" step="0.1" value="0">
                                    </div>
                                    <div class="chatooly-slider-group" style="flex: 1;">
                                        <div class="chatooly-slider-label">
                                            <span>Y</span>
                                            <span class="chatooly-slider-value" id="rotation-axis-y-value">1</span>
                                        </div>
                                        <input type="range" class="chatooly-slider" id="rotation-axis-y" min="-1" max="1" step="0.1" value="1">
                                    </div>
                                    <div class="chatooly-slider-group" style="flex: 1;">
                                        <div class="chatooly-slider-label">
                                            <span>Z</span>
                                            <span class="chatooly-slider-value" id="rotation-axis-z-value">0</span>
                                        </div>
                                        <input type="range" class="chatooly-slider" id="rotation-axis-z" min="-1" max="1" step="0.1" value="0">
                                    </div>
                                </div>
                            </div>

                            <div id="tumble-controls-group" style="display: none;">
                                <div class="chatooly-slider-group">
                                    <div class="chatooly-slider-label">
                                        <span>Tumble Amount</span>
                                        <span class="chatooly-slider-value" id="tumble-amount-value">5</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="tumble-amount" min="1" max="10" step="1" value="5">
                                </div>

                                <div class="chatooly-slider-group">
                                    <div class="chatooly-slider-label">
                                        <span>Tumble Speed</span>
                                        <span class="chatooly-slider-value" id="tumble-speed-value">1.0</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="tumble-speed" min="0.1" max="5" step="0.1" value="1">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ========== HOVER EFFECTS ========== -->
                <div class="chatooly-section-card" data-section="hover">
                    <span class="chatooly-section-header" role="button" tabindex="0">HOVER EFFECTS</span>
                    <div class="chatooly-section-content">
                        <!-- Enable Toggle -->
                        <div class="chatooly-toggle-group">
                            <button class="chatooly-toggle" id="hover-effect" role="switch" aria-pressed="false" aria-labelledby="toggle-hover">
                                <span class="chatooly-toggle-slider"></span>
                            </button>
                            <span class="chatooly-toggle-label" id="toggle-hover">Enable Hover Effects</span>
                        </div>

                        <div id="hover-controls-group" style="display: none;">
                            <!-- Interaction Mode Toggle -->
                            <div class="chatooly-input-group">
                                <label class="chatooly-input-label">Interaction Mode</label>
                                <div class="chatooly-preset-grid" style="grid-template-columns: 1fr 1fr;">
                                    <button class="chatooly-btn active" id="mode-mouse" data-mode="mouse">Mouse</button>
                                    <button class="chatooly-btn" id="mode-auto" data-mode="auto">Auto</button>
                                </div>
                            </div>

                            <!-- Auto Mode Controls (hidden by default) -->
                            <div id="auto-mode-controls" style="display: none;">
                                <div class="chatooly-input-group">
                                    <label class="chatooly-input-label">Pattern</label>
                                    <select class="chatooly-select" id="auto-pattern">
                                        <option value="infinity" selected>Infinity Loop</option>
                                        <option value="sine">Sine Wave</option>
                                        <option value="circle">Circle</option>
                                        <option value="random">Random</option>
                                        <option value="trace">Trace Text</option>
                                    </select>
                                </div>

                                <div class="chatooly-slider-group">
                                    <div class="chatooly-slider-label">
                                        <span>Speed</span>
                                        <span class="chatooly-slider-value" id="auto-speed-value">1</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="auto-speed" min="0.1" max="10" step="0.1" value="1">
                                </div>

                                <div class="chatooly-slider-group">
                                    <div class="chatooly-slider-label">
                                        <span>Movement Size</span>
                                        <span class="chatooly-slider-value" id="auto-size-value">5</span>
                                    </div>
                                    <input type="range" class="chatooly-slider" id="auto-size" min="1" max="10" step="1" value="5">
                                </div>
                            </div>

                            <!-- Shared Hover Radius -->
                            <div class="chatooly-slider-group" id="hover-effect-group">
                                <div class="chatooly-slider-label">
                                    <span>Hover Radius</span>
                                    <span class="chatooly-slider-value" id="hover-radius-value">150</span>
                                </div>
                                <input type="range" class="chatooly-slider" id="hover-radius" min="50" max="500" value="150">
                            </div>

                            <!-- MAGNIFICATION Card -->
                            <div class="hover-effect-card" style="border: 1px solid var(--chatooly-color-border); border-radius: 6px; padding: 10px; margin-bottom: 10px;">
                                <div class="chatooly-toggle-group">
                                    <button class="chatooly-toggle active" id="hover-magnification-toggle" role="switch" aria-pressed="true">
                                        <span class="chatooly-toggle-slider"></span>
                                    </button>
                                    <span class="chatooly-toggle-label">Magnification</span>
                                </div>
                                <div id="hover-magnification-controls">
                                    <div class="chatooly-slider-group">
                                        <div class="chatooly-slider-label">
                                            <span>Intensity</span>
                                            <span class="chatooly-slider-value" id="hover-intensity-value">200%</span>
                                        </div>
                                        <input type="range" class="chatooly-slider" id="hover-intensity" min="1" max="700" step="1" value="200">
                                    </div>
                                </div>
                            </div>

                            <!-- ROTATION Card -->
                            <div class="hover-effect-card" style="border: 1px solid var(--chatooly-color-border); border-radius: 6px; padding: 10px; margin-bottom: 10px;">
                                <div class="chatooly-toggle-group">
                                    <button class="chatooly-toggle" id="hover-rotation-toggle" role="switch" aria-pressed="false">
                                        <span class="chatooly-toggle-slider"></span>
                                    </button>
                                    <span class="chatooly-toggle-label">Rotation</span>
                                </div>
                                <div id="hover-rotation-controls" style="display: none;">
                                    <div class="chatooly-preset-grid" style="grid-template-columns: 1fr 1fr 1fr;">
                                        <button class="chatooly-btn active" id="hover-rot-continuous" data-mode="continuous">Continuous</button>
                                        <button class="chatooly-btn" id="hover-rot-target" data-mode="target">Target</button>
                                        <button class="chatooly-btn" id="hover-rot-lookat" data-mode="lookAt">Look At</button>
                                    </div>
                                    <div id="hover-rot-continuous-controls">
                                        <div class="chatooly-slider-group">
                                            <div class="chatooly-slider-label">
                                                <span>Speed</span>
                                                <span class="chatooly-slider-value" id="hover-rot-speed-value">2.0</span>
                                            </div>
                                            <input type="range" class="chatooly-slider" id="hover-rot-speed" min="0.5" max="10" step="0.5" value="2">
                                        </div>
                                        <div class="chatooly-slider-label" style="margin-bottom: 4px;"><span>Axis</span></div>
                                        <div style="display: flex; gap: 6px;">
                                            <div class="chatooly-slider-group" style="flex: 1;">
                                                <div class="chatooly-slider-label"><span>X</span><span class="chatooly-slider-value" id="hover-rot-axis-x-value">0</span></div>
                                                <input type="range" class="chatooly-slider" id="hover-rot-axis-x" min="-1" max="1" step="0.1" value="0">
                                            </div>
                                            <div class="chatooly-slider-group" style="flex: 1;">
                                                <div class="chatooly-slider-label"><span>Y</span><span class="chatooly-slider-value" id="hover-rot-axis-y-value">1</span></div>
                                                <input type="range" class="chatooly-slider" id="hover-rot-axis-y" min="-1" max="1" step="0.1" value="1">
                                            </div>
                                            <div class="chatooly-slider-group" style="flex: 1;">
                                                <div class="chatooly-slider-label"><span>Z</span><span class="chatooly-slider-value" id="hover-rot-axis-z-value">0</span></div>
                                                <input type="range" class="chatooly-slider" id="hover-rot-axis-z" min="-1" max="1" step="0.1" value="0">
                                            </div>
                                        </div>
                                    </div>
                                    <div id="hover-rot-target-controls" style="display: none;">
                                        <div class="chatooly-slider-label" style="margin-bottom: 4px;"><span>Target Angle</span></div>
                                        <div style="display: flex; gap: 6px;">
                                            <div class="chatooly-slider-group" style="flex: 1;">
                                                <div class="chatooly-slider-label"><span>X</span><span class="chatooly-slider-value" id="hover-rot-target-x-value">0</span></div>
                                                <input type="range" class="chatooly-slider" id="hover-rot-target-x" min="-180" max="180" step="5" value="0">
                                            </div>
                                            <div class="chatooly-slider-group" style="flex: 1;">
                                                <div class="chatooly-slider-label"><span>Y</span><span class="chatooly-slider-value" id="hover-rot-target-y-value">180</span></div>
                                                <input type="range" class="chatooly-slider" id="hover-rot-target-y" min="-180" max="180" step="5" value="180">
                                            </div>
                                            <div class="chatooly-slider-group" style="flex: 1;">
                                                <div class="chatooly-slider-label"><span>Z</span><span class="chatooly-slider-value" id="hover-rot-target-z-value">0</span></div>
                                                <input type="range" class="chatooly-slider" id="hover-rot-target-z" min="-180" max="180" step="5" value="0">
                                            </div>
                                        </div>
                                    </div>
                                    <div id="hover-rot-lookat-controls" style="display: none;">
                                        <div class="chatooly-slider-group">
                                            <div class="chatooly-slider-label">
                                                <span>Intensity</span>
                                                <span class="chatooly-slider-value" id="hover-rot-lookat-intensity-value">100%</span>
                                            </div>
                                            <input type="range" class="chatooly-slider" id="hover-rot-lookat-intensity" min="10" max="100" step="5" value="100">
                                        </div>
                                        <div class="chatooly-slider-group">
                                            <div class="chatooly-slider-label">
                                                <span>Smoothing</span>
                                                <span class="chatooly-slider-value" id="hover-rot-lookat-smoothing-value">0.10</span>
                                            </div>
                                            <input type="range" class="chatooly-slider" id="hover-rot-lookat-smoothing" min="0.01" max="0.5" step="0.01" value="0.1">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- GRADIENT CROSSFADE Card (only for gradient material) -->
                            <div id="hover-crossfade-section" class="hover-effect-card" style="border: 1px solid var(--chatooly-color-border); border-radius: 6px; padding: 10px; margin-bottom: 10px;">
                                <div class="chatooly-toggle-group">
                                    <button class="chatooly-toggle" id="hover-crossfade-toggle" role="switch" aria-pressed="false">
                                        <span class="chatooly-toggle-slider"></span>
                                    </button>
                                    <span class="chatooly-toggle-label">Gradient Crossfade</span>
                                </div>
                                <div id="hover-crossfade-controls" style="display: none;">
                                    <div class="chatooly-input-group">
                                        <label class="chatooly-input-label">Hover Gradient Colors</label>
                                        <div id="hover-gradient-stops-container">
                                            <div class="gradient-stop" data-index="0" style="display: flex; gap: 8px; margin-bottom: 8px; align-items: center;">
                                                <input type="color" class="chatooly-color-input hover-gradient-stop-color" value="#ffffff" style="width: 40px;">
                                                <input type="range" class="chatooly-slider hover-gradient-stop-position" min="0" max="100" value="0" style="flex: 1;">
                                                <span class="hover-gradient-stop-value" style="width: 30px; font-size: 12px;">0%</span>
                                            </div>
                                            <div class="gradient-stop" data-index="1" style="display: flex; gap: 8px; margin-bottom: 8px; align-items: center;">
                                                <input type="color" class="chatooly-color-input hover-gradient-stop-color" value="#ffcc00" style="width: 40px;">
                                                <input type="range" class="chatooly-slider hover-gradient-stop-position" min="0" max="100" value="50" style="flex: 1;">
                                                <span class="hover-gradient-stop-value" style="width: 30px; font-size: 12px;">50%</span>
                                            </div>
                                            <div class="gradient-stop" data-index="2" style="display: flex; gap: 8px; margin-bottom: 8px; align-items: center;">
                                                <input type="color" class="chatooly-color-input hover-gradient-stop-color" value="#ff6600" style="width: 40px;">
                                                <input type="range" class="chatooly-slider hover-gradient-stop-position" min="0" max="100" value="100" style="flex: 1;">
                                                <span class="hover-gradient-stop-value" style="width: 30px; font-size: 12px;">100%</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Hover Gradient Preview -->
                                    <div style="margin: 12px 0; text-align: center;">
                                        <canvas id="hover-gradient-preview" width="80" height="80" style="border-radius: 50%; border: 2px solid var(--chatooly-color-border);"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ========== BACKGROUND ========== -->
                <div class="chatooly-section-card" data-section="background">
                    <span class="chatooly-section-header" role="button" tabindex="0">BACKGROUND</span>
                    <div class="chatooly-section-content">
                        <div class="chatooly-toggle-group">
                            <button class="chatooly-toggle" id="transparent-bg" role="switch" aria-pressed="false" aria-labelledby="toggle-transparent">
                                <span class="chatooly-toggle-slider"></span>
                            </button>
                            <span class="chatooly-toggle-label" id="toggle-transparent">Transparent Background</span>
                        </div>

                        <div class="chatooly-color-group" id="bg-color-group">
                            <label class="chatooly-color-label">Background Color</label>
                            <input type="color" class="chatooly-color-input" id="bg-color" value="#FFFFFF">
                        </div>

                        <div style="position: relative;">
                            <div class="chatooly-upload-area" style="height: 80px;">
                                <div class="chatooly-upload-icon">
                                    <svg viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M7.94444 0L11 3V11.4048C10.9998 11.5627 10.9358 11.7141 10.822 11.8257C10.7083 11.9373 10.554 12 10.3932 12H0.606833C0.446342 11.9989 0.292733 11.9359 0.179189 11.8245C0.0656443 11.7131 0.00128006 11.5624 0 11.4048V0.5952C0 0.2664 0.271944 0 0.606833 0H7.94444ZM6.11111 6H7.94444L5.5 3.6L3.05556 6H4.88889V8.4H6.11111V6Z" fill="var(--fill-0, #454545)"/>
                                    </svg>
                                </div>
                                <div class="chatooly-upload-text">Background Image</div>
                                <input type="file" class="chatooly-upload-input" id="bg-image" accept="image/*">
                            </div>
                            <button id="clear-bg-image" type="button" class="chatooly-btn" style="display: none; position: absolute; top: 8px; right: 8px; padding: 4px 8px; min-width: auto; z-index: 10;" title="Remove image"></button>
                        </div>

                        <div class="chatooly-input-group" id="bg-fit-group" style="display: none;">
                            <label class="chatooly-input-label">Image Fit</label>
                            <select class="chatooly-select" id="bg-fit">
                                <option value="cover">Fill Frame</option>
                                <option value="contain">Fit in Frame</option>
                                <option value="fill">Stretch to Fill</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!-- Presets Section -->
                <div class="chatooly-section-card" data-section="presets">
                    <h3 class="chatooly-section-header">Presets</h3>
                    <div class="chatooly-section-content">
                        <!-- Save Preset Button -->
                        <button class="chatooly-btn" id="save-preset-btn" style="width: 100%;">
                            Save Preset
                        </button>

                        <!-- Load Preset Dropdown -->
                        <div class="chatooly-slider-group" style="margin-top: 12px;">
                            <label class="chatooly-slider-label">Load Saved Preset</label>
                            <select id="preset-select" class="chatooly-select" style="width: 100%;">
                                <option value="">-- Select Preset --</option>
                            </select>
                        </div>

                        <!-- Load from File -->
                        <label class="chatooly-btn" id="preset-upload-label" style="width: 100%; margin-top: 8px; display: block; text-align: center; cursor: pointer;">
                            Load from File
                            <input type="file" id="preset-upload" accept=".json" style="display: none;">
                        </label>

                        <!-- Delete Preset Button -->
                        <button class="chatooly-btn" id="delete-preset-btn" style="width: 100%; margin-top: 8px; display: none;">
                            Delete Selected Preset
                        </button>
                    </div>
                </div>
            </div>

            <!-- Footer with Export Button -->
            <div class="chatooly-controls-footer">
                <button class="chatooly-btn" id="clear-canvas-btn" style="margin-bottom: 8px;">
                    Clear Canvas
                </button>
                <button class="chatooly-btn chatooly-btn-export">
                    Export
                </button>
            </div>
        </div>

        <!-- Right Panel: Preview/Canvas Area -->
        <div class="chatooly-preview-panel" style="display: flex; align-items: center; justify-content: center;">
            <!-- ========== DO NOT EDIT: Required Export Container ========== -->
            <div id="chatooly-container" class="" style="position: relative; display: flex; align-items: center; justify-content: center; box-sizing: border-box; width: 100%; height: 100%; overflow: auto;">
                <!-- ========== EDIT BELOW: Add Your Visual Output Here ========== -->
                <!-- This content will be exported as PNG/Video -->
                <!-- IMPORTANT: Your main canvas MUST have id="chatooly-canvas" -->
                <!-- For animations: CDN automatically detects canvas animations and provides video export options -->
                <canvas id="chatooly-canvas" width="1920" height="1080" style="position: static; margin: 0px; width: 1920px; height: 1080px; transform-origin: center center;"></canvas>
                <!-- ========== END EDIT SECTION ========== -->
            </div>
        </div>
    </div>

    <!-- ========== DO NOT EDIT: Chatooly CDN v2.0 Integration ========== -->
    <!-- This script automatically provides: Dark theme styling + Static/Video export functionality -->
    <!-- Video support: Detects p5.js, Three.js, Canvas animations and provides MediaRecorder API export -->
    <script src="https://yaelren.github.io/chatooly-cdn/js/core.min.js"></script>

    <!-- ========== DO NOT EDIT: Chatooly Configuration ========== -->
    <script src="js/chatooly-config.js"></script>

    <!-- ========== DO NOT EDIT: UI Controls ========== -->
    <script src="js/ui.js"></script>

    <!-- ========== MatCap Generator (for gradient shader materials) ========== -->
    <script src="js/matcap-generator.js"></script>

    <!-- ========== Shape Point Generation ========== -->
    <script src="js/svg/ParametricShapes.js"></script>

    <!-- ========== DO NOT EDIT: Your Tool Logic ========== -->
    <script src="js/main.js"></script>
</body></html>
